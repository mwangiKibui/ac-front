(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"W/Es":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market_place/[slug]",function(){return a("mE3r")}])},mE3r:function(e,t,a){"use strict";a.r(t);var s=a("o0o1"),c=a.n(s),r=a("q1tI"),n=a.n(r),l=a("YFqc"),o=a.n(l),u=a("/MKj"),i=a("dXLW"),p=a("duNf"),d=a("uCnE"),m=a("TbMw"),_=a("5Yp1"),b=a("NeII"),f=a("dtRg"),v=a("rnyU"),N=n.a.createElement,w=function(e){var t=Object(r.useState)(e.slug)[0],a=Object(r.useState)(e.related)[0],s=Object(r.useState)(e.product)[0],l=Object(r.useState)(!1),u=l[0],v=l[1],w=Object(r.useState)("Show seller phone number"),g=w[0],h=w[1],S=Object(r.useState)(e.error)[0],y=Object(r.useState)(!1),k=y[0],O=y[1],j=function(){return O(!k)},x="Shop for ".concat(s.name," from allcomrades platform"),I="https://allcomrades.co.ke/platform/products/".concat(t),P="Share ".concat(s.name," with your friends");return N(_.a,null,S?N(d.a,{message:S}):N(n.a.Fragment,null,N("div",{className:"container"},N("div",{className:"row"},N("div",{className:"col-12 col-sm-12 col-md-12"},N(m.a,{breadcrumb:[{title:"Home",url:"/"},{title:"Market Place",url:"/market_place"},{title:"".concat(s.name),url:"/market_place/".concat(s.slug)}]}))),N("div",{className:"product product--layout--'standard'"},N("div",{className:"product__content"},N(p.a,{layout:"layout",images:s.profiles}),N("div",{className:"product__info"},N("h1",{className:"product__name"},s.name),N("div",{className:"product__reviews"},N(o.a,{href:"/platform/products/".concat(t,"/reviews")},N("a",{className:"product_reviews-link"},"".concat(s.reviews.length," Review(s)")))),N("div",{className:"product__description"},N("p",null,s.description)),N("ul",{className:"product__meta"},N("li",{className:"product__meta-availability"},"Availability:"," ",s.availability?"In Stock"===s.availability?N("span",{className:"text-success"},"In Stock"):N("span",{className:"text-danger"},"Out of stock"):null))),N("div",{className:"product__sidebar"},N("div",{className:"product__availability"},N("p",{className:"text-white"},"Availability:")," ","In Stock"===s.availability?N("span",{className:"text-success"},"In Stock"):N("span",{className:"text-danger"},"Out of stock")),N("div",{className:"product__prices"},s.price?N("span",{className:"product__price"},"KSHS:",parseInt(s.price).toLocaleString(),"."):null,"    ",s.price_type?N("span",{className:"product__price"},"The price is ",s.price_type):null)),N("div",{className:"product__footer"},N("button",{className:"btn btn-outline-success",onClick:j},N(i.a,null)," share"),N(f.a,{isOpen:k,toggle:j,link:I,title:x,message:P}),u?N("p",{className:"product__footer_text"},"+254",s.seller.phone):N("button",{className:"btn btn-outline-info",onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return h("Loading"),a.next=3,c.a.awrap(e.addProductViews(t).then((function(){return v(!0)})).catch(console.log));case 3:case"end":return a.stop()}}),null,null,null,Promise)}},g)))),a.length>0?N("div",{className:"row"},N(b.a,{title:"Related products",data:a,card:"products"})):null)))};w.defaultProps={layout:"standard"},w.getInitialProps=function(e){var t,a,s,r,n,l;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.store,a=e.query,o.next=3,c.a.awrap(t.dispatch(Object(v.e)(a.slug)));case 3:return o.next=5,c.a.awrap(t.dispatch(Object(v.f)()));case 5:return s=t.getState().products.product,o.next=8,c.a.awrap(t.dispatch(Object(v.g)(s.reviews)));case 8:return r=t.getState().products.error,n=t.getState().products.basic,l=n.filter((function(e){return e.slug!==a.slug})),o.abrupt("return",{product:s,related:l,slug:a.slug,error:r});case 12:case"end":return o.stop()}}),null,null,null,Promise)};var g={addProductViews:v.a};t.default=Object(u.b)(null,g)(w)}},[["W/Es",0,1,6,9,14,2,4,3,5,7,8,10,12,13,16,15,17,19]]]);